# クラウドファンディング資金予測
csv形式のデータと画像に対してマルチモーダルなデータセットの作成方法と前処理

## データ概要

### 訓練データの概要
- 画像ファイルが存在するデータ数：91029
- テーブルデータの総数：91333

### テストデータの概要
- 画像ファイルが存在するデータ数：91819
- テーブルデータの総数：91822

## 1  データ作成
前と同様にmain.pyとZipMake.pyをダウンロードし、main.pyを実行

ただしZipMake.pyは同じディレクトリ内に保存

### 以前との変更点
- 各自の環境下でファイルパスの指定が不要
- ZipMake.pyの処理内容を変更（LOAN_IDで画像データとテーブルデータを参照）
- 画像データをゼロパディングで増やしてテーブルデータと同数のデータを生成
- テーブルデータについての読み込みと前処理（王さんの前処理）をセットで追加
- tensorflowのtf.data.Datasetを利用しているので画像モデルのmodel.fitの引数は１つのみ

### データ生成の手順
1. 訓練・テスト用の２つの画像zipファイルと３つのcsvファイル（合計５つ）を同じディレクトリ内に置く
2. isMakeDataフラグをTrueにするとデータ作成、作成後はFalseのまま
3. ZipMakeのメソッドのmake_train_data,make_test_dataはTrueに設定
4. main.pyの171行目のpdb.set_trace()で前処理後の、訓練データimage_and_label（画像モデル用）,df_train（テーブルデータ用モデル）を確認
5. len()によりデータ数が5000ならば、データの前処理は無事成功


## 注意点
- テーブルデータの前処理が確定しましたら、テーブルデータの前処理の部分に適用をお願いしたいです。
- モデルの記述をお願いしたいです。
- モデルの入力が以前と異なるのでモデルが動作しないかもしれないです。もしその場合はデータの形状を変えていただけるとありがたいです。
- 予測の部分はだいたいの感じで書いたので正常に動作するかがわからないです。


## 2  モデル学習

1.  image_and_label(tf.data.Dataset型)には（画像データ,融資額(目的変数)）、df_trainでは、それらと対応したテーブルデータが5000個格納
2.  画像用モデル、テーブルデータ用モデル、またはオリジナルのモデルにそれらの訓練データを適用し、モデル作成

## 3  予測
1.  学習モデル作成後、194行以降でテストデータをモデルに適用して予測。
2.  予測した値を逐次的に提出用csvファイルに書き込む。
3.  215行目では提出csvが完成している状態。
